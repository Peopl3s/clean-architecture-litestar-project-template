# Application Configuration
ENVIRONMENT=dev
LOG_LEVEL=DEBUG
DEBUG=true

{% if cookiecutter.use_database == "postgresql" %}
# PostgreSQL Configuration
POSTGRES_USER={{ cookiecutter.database_user }}
POSTGRES_PASSWORD={{ cookiecutter.database_password }}
POSTGRES_SERVER=postgres
POSTGRES_PORT=5432
POSTGRES_DB={{ cookiecutter.database_name }}
{% endif %}

{% if cookiecutter.use_database == "sqlite" %}
# SQLite Configuration
SQLITE_DB_PATH={{ cookiecutter.database_name }}.db
SQLITE_DB_DIR=./data
{% endif %}

{% if cookiecutter.use_database == "mysql" %}
# MySQL Configuration
MYSQL_USER={{ cookiecutter.database_user }}
MYSQL_PASSWORD={{ cookiecutter.database_password }}
MYSQL_SERVER=mysql
MYSQL_PORT=3306
MYSQL_DB={{ cookiecutter.database_name }}
{% endif %}

# External APIs
MUSEUM_API_BASE=https://api.{{ cookiecutter.domain_name }}
CATALOG_API_BASE=https://catalog.{{ cookiecutter.domain_name }}
HTTP_TIMEOUT=10.0

{% if cookiecutter.use_broker == "kafka" %}
# Message Broker (Kafka)
BROKER_URL=kafka://kafka:9092
BROKER_NEW_ARTIFACT_QUEUE=new_artifacts

# Retry Configuration
PUBLISH_RETRIES=3
PUBLISH_RETRY_BACKOFF=0.5
{% endif %}

{% if cookiecutter.use_broker == "rabbitmq" %}
# Message Broker (RabbitMQ)
BROKER_URL=amqp://guest:guest@rabbitmq:5672/
BROKER_NEW_ARTIFACT_QUEUE=new_artifacts

# Retry Configuration
PUBLISH_RETRIES=3
PUBLISH_RETRY_BACKOFF=0.5
{% endif %}

{% if cookiecutter.use_broker == "nats" %}
# Message Broker (NATS)
BROKER_URL=nats://nats:4222
BROKER_NEW_ARTIFACT_QUEUE=new_artifacts

# Retry Configuration
PUBLISH_RETRIES=3
PUBLISH_RETRY_BACKOFF=0.5
{% endif %}

{% if cookiecutter.use_cache == "redis" %}
# Redis Configuration
REDIS_PASSWORD={{ cookiecutter.redis_password }}
REDIS_PORT=6379
REDIS_HOST=redis
REDIS_DB=0
REDIS_CACHE_TTL=3600
REDIS_CACHE_PREFIX={{ cookiecutter.project_slug }}:
{% endif %}

{% if cookiecutter.use_cache == "keydb" %}
# KeyDB Configuration
KEYDB_PASSWORD={{ cookiecutter.redis_password }}
KEYDB_PORT=6379
KEYDB_HOST=keydb
KEYDB_DB=0
KEYDB_CACHE_TTL=3600
KEYDB_CACHE_PREFIX={{ cookiecutter.project_slug }}:
{% endif %}

{% if cookiecutter.use_cache == "tarantool" %}
# Tarantool Configuration
TARANTOOL_USER={{ cookiecutter.database_user }}
TARANTOOL_PASSWORD={{ cookiecutter.database_password }}
TARANTOOL_PORT=3301
TARANTOOL_HOST=tarantool
TARANTOOL_CACHE_TTL=3600
TARANTOOL_CACHE_PREFIX={{ cookiecutter.project_slug }}:
{% endif %}

{% if cookiecutter.use_cache == "dragonfly" %}
# Dragonfly Configuration
DRAGONFLY_PASSWORD={{ cookiecutter.redis_password }}
DRAGONFLY_PORT=6379
DRAGONFLY_HOST=dragonfly
DRAGONFLY_DB=0
DRAGONFLY_CACHE_TTL=3600
DRAGONFLY_CACHE_PREFIX={{ cookiecutter.project_slug }}:
{% endif %}

{% if cookiecutter.use_database == "postgresql" %}
# Database URLs (computed)
DATABASE_URL=postgresql+asyncpg://{{ cookiecutter.database_user }}:{{ cookiecutter.database_password }}@postgres:5432/{{ cookiecutter.database_name }}
{% endif %}

{% if cookiecutter.use_database == "sqlite" %}
# Database URLs (computed)
DATABASE_URL=sqlite+aiosqlite:///${SQLITE_DB_DIR}/${SQLITE_DB_PATH}
{% endif %}

{% if cookiecutter.use_database == "mysql" %}
# Database URLs (computed)
DATABASE_URL=mysql+aiomysql://${MYSQL_USER}:${MYSQL_PASSWORD}@${MYSQL_SERVER}:${MYSQL_PORT}/${MYSQL_DB}
{% endif %}

{% if cookiecutter.use_cache == "redis" %}
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}
{% endif %}

{% if cookiecutter.use_cache == "keydb" %}
KEYDB_URL=redis://:${KEYDB_PASSWORD}@${KEYDB_HOST}:${KEYDB_PORT}/${KEYDB_DB}
{% endif %}

{% if cookiecutter.use_cache == "tarantool" %}
TARANTOOL_URL=tarantool://${TARANTOOL_USER}:${TARANTOOL_PASSWORD}@${TARANTOOL_HOST}:${TARANTOOL_PORT}
{% endif %}

{% if cookiecutter.use_cache == "dragonfly" %}
DRAGONFLY_URL=redis://:${DRAGONFLY_PASSWORD}@${DRAGONFLY_HOST}:${DRAGONFLY_PORT}/${DRAGONFLY_DB}
{% endif %}

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*
